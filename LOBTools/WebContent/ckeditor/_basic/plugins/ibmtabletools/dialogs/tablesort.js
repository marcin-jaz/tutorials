CKEDITOR.dialog.add("tablesort",function(c){var i=function(a,l,h){function j(a){a=parseInt(a);return a=isNaN(a)?Infinity:a}function i(a,b){return j(a)-j(b)}var e=c.getSelection().getSelectedElement(),d,g;if(e&&"table"==e.getName())for(var b=0;b<e.getChildCount();b++)if("tbody"==e.getChild(b).getName()){g=e.getChild(b);break}for(var e=g.getChildren(),k=!1,f=[],b=0;b<g.getChildCount();b++){d=e.getItem(b);if(d.getChildCount()<a){k=!0;break}d=d.getChild(a-1);f[b]=d.getHtml()}if(!k){"alphanum"==h?f.sort():
f.sort(i);"desc"==l&&f.reverse();for(b=0;b<g.getChildCount();b++)d=e.getItem(b),d=d.getChild(a-1),d.setHtml(f[b])}};return{title:c.lang.ibmtabletools.sortTable,minWidth:220,minHeight:50,onShow:function(){this.getParentEditor().execCommand("selectTable")},onOk:function(){var a=this.getValueOf("info","column"),c=this.getValueOf("info","order"),h=this.getValueOf("info","type");a&&0<a&&i(a,c,h)},contents:[{id:"info",style:"width: 100%",elements:[{type:"hbox",children:[{label:c.lang.ibmtabletools.colNumber,
type:"text",id:"column",setup:function(a){a&&a[1]&&this.setValue(a[1])},validate:CKEDITOR.dialog.validate.number(c.lang.ibmtabletools.invalidColumnNumber),validate:CKEDITOR.dialog.validate.notEmpty(c.lang.ibmtabletools.noColumnNumber)},{type:"select",id:"type",label:c.lang.ibmtabletools.sortType,"default":"alphanum",items:[[c.lang.ibmtabletools.alphanumericType,"alphanum"],[c.lang.ibmtabletools.numericType,"num"]],setup:function(a){a&&a[2]&&this.setValue(a[2])}},{type:"select",id:"order",label:c.lang.ibmtabletools.sortOrder,
"default":"asc",items:[[c.lang.ibmtabletools.sortOrderAsc,"asc"],[c.lang.ibmtabletools.sortOrderDesc,"desc"]],setup:function(a){a&&a[3]&&this.setValue(a[3])}}]}]}]}});