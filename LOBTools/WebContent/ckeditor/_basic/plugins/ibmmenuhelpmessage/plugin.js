CKEDITOR.plugins.add("ibmmenuhelpmessage",{lang:"ar,ca,cs,da,de,el,en,es,fi,fr,he,hr,hu,it,iw,ja,kk,ko,nb,nl,no,pl,pt,pt-br,ro,ru,sk,sl,sv,th,tr,uk,zh,zh-cn,zh-tw",init:function(d){function h(b,d,c){b=new CKEDITOR.dom.element(b,d);b.setAttribute("class",c);return b}if(!d.config.disableNativeSpellChecker&&d.config.displayContextMenuHelpMessage&&!(!1===d.config.browserContextMenuOnCtrl||CKEDITOR.env.ie&&7>CKEDITOR.env.version))d.on("menuShow",function(b){for(var n=CKEDITOR.env.mac?d.lang.ibmmenuhelpmessage.keystrokeForContextMenuMac:
d.lang.ibmmenuhelpmessage.keystrokeForContextMenu,b=(b.data[0]||b.data).element.getElementsByTag("iframe").getItem(0),c=b.getFrameDocument(),m=c.getBody().getElementsByTag("div"),k=0;k<m.count();k++){var a=m.getItem(k).getAttribute("style"),e;a:{e=m.getItem(k);if("cke_panel_block"==e.getAttribute("class")&&(!a||"display: none;"!=a))if("cke_panel_block"==e.getAttribute("class")&&(!a||"display: none;"!=a))if(e=e.getElementsByTag("div").getItem(0),"cke_menu"==e.getAttribute("class")){b:{for(var a=e.getElementsByTag("a").getItem(0).getAttribute("class"),
j=["toolbarContextMenu","language","submenuItem"],g=0;g<j.length;g++)if(0<a.indexOf(j[g])){a=!1;break b}a=!0}if(a)break a}e=void 0}if(e){a=h("div",c,"cke_menuseparator");a.setAttribute("role","separator");e.append(a);a=h("span",c,"cke_contextmenu_background_color cke_menubutton");j=h("span",c,"cke_contextmenu_background_color cke_menubutton_inner");g=h("span",c,"cke_button_icon cke_button_info_icon");j.append(g);var g=h("span",c,"cke_contextmenu_background_color"),i=h("div",c,"cke_contextmenu_message");
CKEDITOR.env.ie&&8>CKEDITOR.env.version&&(i=h("div",c,"cke_contextmenu_message_ie7"));i.setHtml(n);g.append(i);var i=e.getParent(),f=b.getAttribute("aria-describedby");if(f){var l=f.indexOf("ibmcke_context_menu_msg_id");-1<l&&("ibmcke_context_menu_msg_id"==f?b.removeAttribute("aria-describedby"):b.setAttribute("aria-describedby",f.substring(0,l)))}(f=i.getAttribute("aria-describedby"))?(l=f.indexOf("ibmcke_context_menu_msg_id"),-1==l&&(f+="ibmcke_context_menu_msg_id",i.setAttribute("aria-describedby",
f))):i.setAttribute("aria-describedby","ibmcke_context_menu_msg_id");j.append(g);a.append(j);e.append(a);document.getElementById("ibmcke_context_menu_msg_id")||(a=new CKEDITOR.dom.element("div",c),a.setAttribute("style","display:none"),a.setAttribute("id","ibmcke_context_menu_msg_id"),a.setText(n),e.getParent().append(a))}}}),d.on("instanceReady",function(b){b.editor.editable().on("contextmenu",function(b){this.focusManager.hasFocus||(this.getSelection().getSelectedElement()?this.getSelection().getSelectedElement().focus():
this.focus());this.contextMenu._.onShow();for(var c=this.contextMenu,d=0;d<c.items.length;d++)if(1!=c.items[d].group)return;b.stop()},this,null,0)})}});