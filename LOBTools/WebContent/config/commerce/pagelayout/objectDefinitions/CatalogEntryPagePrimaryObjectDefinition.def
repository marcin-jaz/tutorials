<?xml version="1.0" encoding="UTF-8"?>

<!--
 =================================================================
  Licensed Materials - Property of IBM

  WebSphere Commerce

  (C) Copyright IBM Corp. 2013 All Rights Reserved.

  US Government Users Restricted Rights - Use, duplication or
  disclosure restricted by GSA ADP Schedule Contract with
  IBM Corp.
 =================================================================
-->
<Definitions>

	<!--- This definition defines the base object from which all catalog entry browsing pages are derived.
	-->
	<PrimaryObjectDefinition definitionName="plmBaseCatalogEntryBrowsingPagePrimaryObjectDefinition"
		isBaseDefinition="true"
		objectGroups="CatalogEntryBrowsingPageAlias, PageAlias"
		utilitiesListDefinitionName="plmUtilitiesBrowseGrid"
		idProperty="pageId"
		displayNameProperty="partnumber"
		propertiesDefinitionName="plmCatalogEntryBrowsingPageProperties"
		searchType="FindCatalogEntryBrowsingPages"
		writeUsage="IBM_ManagePageComposerTool">
		<!---
			Refresh Service to retrieve the details of a catalog entry page from the server.
		-->
		<RefreshService url="/cmc/GetCatalogEntryBrowsingPage">
			<ServiceParam name="storeId"/>
			<ServiceParam name="assetStoreId"/>
			<ServiceParam name="catalogId" contextName="masterCatalogId"/>
			<ServiceParam name="catentryId" propertyName="catentryId"/>
			<ServiceParam checkObjectDefinition="true" name="objectType" propertyName="objectType"/>
			<ServiceParam checkObjectDefinition="true" name="catalogEntryPageType" propertyName="catalogEntryPageType"/>
		</RefreshService>
		<!---  
			Retrieves the SEO URL for the catalog entry browsing page.
		-->				
		<GetPreviewURLService url="/cmc/GetCatalogEntryBrowsingPagePreviewUrl">
			<ServiceParam name="catalogId" contextName="masterCatalogId"/>
			<ServiceParam name="catentryId" propertyName="catentryId"/>
		</GetPreviewURLService>
		
		<!---
			Retrieves the {@link catCatalogEntryDescription} and {@link catCatalogEntryDescriptionOverride} child objects.
		-->
		<GetChildrenService objectTypes="CatalogEntryDescription,CatalogEntryDescriptionOverride,CatalogEntryExtraProperties,CatalogEntryListPrice,CatalogEntryConfigModel" url="/cmc/GetCatalogEntryChildren-LanguageDescriptions">
			<ServiceParam name="storeId"/>
			<ServiceParam checkObjectDefinition="true" name="objectType" propertyName="objectType"/>
			<ServiceParam name="storeName"/>
		</GetChildrenService>
		
		<!---  
			Retrieves the {@link catBaseCatalogEntrySeoAttributes}, and
			{@link catBaseCatalogEntrySeoURL} child objects for a catalog entry page.
		-->
		<GetChildrenService objectTypes="CatalogEntryBaseSeoAttributes,InheritedCatalogEntryBaseSeoAttributes,CatalogEntryBaseSeoURL,InheritedCatalogEntryBaseSeoURL" url="/cmc/GetCatalogEntrySeoProperties">
			<ServiceParam name="storeId"/>
			<ServiceParam name="catalogId" contextName="masterCatalogId"/>
			<ServiceParam name="defaultLanguageId"/>
		</GetChildrenService>
		
		<!--- Retrieves the {@link PageLayout page layouts} assigned to this catalog entry browsing page. -->
		
		<GetReferencesService primaryObjectTypes="PageLayout, InheritedPageLayout" referenceObjectTypes="LayoutLocationPageReferenceAlias" 
			url="/cmc/GetPageLayoutByPage">
			<ServiceParam name="storeId"/>
			<ServiceParam name="assetStoreId"/>
			<ServiceParam name="objectStoreId" propertyName="objectStoreId"/>
			<ServiceParam name="pageId" propertyName="pageId"/>
			<ServiceParam name="pageGroup" propertyName="pageGroup"/>
		</GetReferencesService>
		
		<!---
			An instantiation of the child object {@link catCatalogEntryDescription} representing the 
			description related fields for this catalog entry page. This object is language sensitive.		
		-->
		<ChildObjectDefinition baseDefinitionName="catCatalogEntryDescription"/>
			
		<!---
			An instantiation of the child object {@link catCatalogEntryDescriptionOverride} representing the 
			description override related fields for this catalog entry page. This object is language sensitive.		
		-->
		<ChildObjectDefinition baseDefinitionName="catCatalogEntryDescriptionOverride"/>

		<!---
			An instantiation of the child object {@link catCatalogEntryExtraProperties} representing the 
			user data for this catalog entry page.
		-->
		<ChildObjectDefinition baseDefinitionName="catCatalogEntryExtraProperties"/>
		
		<!--- 
			An instantiation of the child object {@link catCatalogEntryBaseSeoAttributes} representing the Search Engine Optimization properties for this catalog entry page in the current store.
		 -->
		<ChildObjectDefinition baseDefinitionName="catCatalogEntryBaseSeoAttributes"/>
		
		<!--- 
			An instantiation of the child object {@link catInheritedCatalogEntryBaseSeoAttributes} representing the Search Engine Optimization properties for this catalog entry page which is inherited.
		 -->
		<ChildObjectDefinition baseDefinitionName="catInheritedCatalogEntryBaseSeoAttributes"/>

		<!--- 
			An instantiation of the child object {@link catCatalogEntryBaseSeoURL} representing the Search Engine Optimization URL properties for this catalog entry page in the current store.
		 -->
		<ChildObjectDefinition baseDefinitionName="catCatalogEntryBaseSeoURL"/>
		
		<!--- 
			An instantiation of the child object {@link catInheritedCatalogEntryBaseSeoURL} representing the Search Engine Optimization URL properties for this catalog entry page which is inherited.
		 -->
		<ChildObjectDefinition baseDefinitionName="catInheritedCatalogEntryBaseSeoURL"/>
					
		<!---  
	    	New layout client action.  
	    -->
		<CreateNewLayoutClientAction displayName="${plmPageLayoutResources.action_new_page_layout}" package="plm" />
	</PrimaryObjectDefinition>

</Definitions>